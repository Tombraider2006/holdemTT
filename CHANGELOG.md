# Changelog

## [2025-01-XX] - Начало разработки

### Добавлено
- Изучен репозиторий PokerServer (jacobhyphenated/PokerServer) на GitHub
- Создана структура Android проекта для техасского холдема
- Реализована игровая логика на основе найденного репозитория

### Модели данных
- `Card` - игральная карта с мастью и достоинством
- `Deck` - колода из 52 карт с перемешиванием
- `Player` - игрок с фишками, картами и состоянием
- `HandRank` - ранги покерных комбинаций
- `HandEvaluation` - результат оценки руки

### Игровая логика
- `GameEngine` - основной игровой движок
  - Управление раздачами
  - Обработка действий игроков (fold, check, call, bet, raise, all-in)
  - Переходы между этапами игры (pre-flop, flop, turn, river, showdown)
  - Определение победителя
- `PokerHandEvaluator` - оценка покерных комбинаций
  - Определение всех стандартных комбинаций
  - Сравнение рук для определения победителя

### AI
- `SimpleAI` - простой AI противник
  - Принятие решений на основе силы руки
  - Учет pot odds
  - Стратегия для pre-flop и post-flop

### UI (Jetpack Compose)
- `GameScreen` - главный экран игры
- `CardView` - компонент отображения карты
- `PlayerView` - компонент отображения игрока
- `ActionButtons` - кнопки действий игрока
- Тема приложения с зеленым столом

### Исправлено
- Исправлена ошибка в `Card.kt` (sit -> suit)
- Добавлен доступ к currentBet в GameEngine
- Исправлена логика отображения кнопок действий

### Улучшено
- Улучшено отображение стека игроков (фишки) с подписью "Стек:"
- Улучшено отображение текущих ставок игроков с подписью "Ставка:"
- Добавлено отображение блайндов (SB/BB) в информации о банке
- Добавлено отображение размера блайндов для каждого игрока
- Улучшена визуализация информации о ставках в центре стола
- Добавлена информация о размере колла и рейза на кнопках действий

### Добавлено - Подсказки и стратегии (2025)
- **BettingHelper** - система подсказок по ставкам на основе GTO стратегии
  - Расчет оптимальных размеров ставок
  - Анализ pot odds и equity
  - Рекомендации по действиям (fold, check, call, bet, raise, all-in)
  - Учет позиции и текстуры доски
  - Адаптивные размеры ставок в зависимости от силы руки
  
- **RangeAnalyzer** - анализ диапазонов рук оппонентов
  - Современные solver-based алгоритмы 2025
  - Сужение диапазона на основе действий оппонента
  - Оценка силы диапазона (средняя, максимальная, минимальная)
  - Распределение силы рук в диапазоне
  - Учет позиции при анализе
  - Определение наиболее вероятных рук оппонента
  
- **UI компоненты для подсказок**
  - BettingHints - отображение рекомендаций по ставкам
  - OpponentRangeView - визуализация анализа диапазона оппонента
  - Индикаторы уверенности и статистика
  
- **Интеграция в игровой процесс**
  - Автоматическое обновление подсказок при каждом ходе
  - Отслеживание действий оппонентов для анализа диапазона
  - Отображение подсказок только для игрока (не для AI)

### Исправлено - Логика ставок
- Исправлена ошибка в расчете pot при CALL/BET/RAISE - теперь правильно учитывается только новая ставка
- Исправлена логика обновления currentBet при ставках
- Улучшена обработка all-in ситуаций

### Источники
- Репозиторий: https://github.com/jacobhyphenated/PokerServer
- Язык: Java (адаптировано для Kotlin/Android)
- Звезды: 160

